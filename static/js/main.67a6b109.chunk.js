(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,,,,function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){"use strict";n.r(a);var t,c,r,s,o,i=n(0),u=n(1),l=n.n(u),A=n(7),d=n.n(A),m=(n(14),n(8)),b=n(2),f=n(3);!function(e){e[e.apriori=0]="apriori",e[e.playing=1]="playing",e[e.won=2]="won",e[e.lost=3]="lost"}(t||(t={})),function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(c||(c={})),function(e){e[e.undiscovered=0]="undiscovered",e[e.discovered=1]="discovered",e[e.flagged=2]="flagged"}(r||(r={})),function(e){e.glad="\ud83d\ude01",e.hesitant="\ud83d\ude36",e.lost="\ud83d\udc80",e.won="\ud83d\ude0e"}(s||(s={})),function(e){e[e.INIT=0]="INIT",e[e.FIRST_CLICK=1]="FIRST_CLICK",e[e.BFS_REVEAL=2]="BFS_REVEAL",e[e.DISCOVER=3]="DISCOVER",e[e.FLAG=4]="FLAG",e[e.UNFLAG=5]="UNFLAG",e[e.STATUS_CLICK=6]="STATUS_CLICK"}(o||(o={}));n(15);var h=function(e){var a=e.row,n=e.col,t=e.value,s=e.state,o=e.onClickHandler,u=e.onContextMenuHandler;return Object(i.jsx)("div",{className:"Button ".concat(t===c.bomb?"bomb":""," ").concat(s===r.discovered?"discovered":s===r.flagged?"flagged":"undiscovered"),onClick:o(a,n),onContextMenu:u(a,n),children:function(){switch(s){case r.discovered:if(t===c.bomb)return Object(i.jsx)("img",{src:"data:image/gif;base64,R0lGODdhMgAyAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJFgAAACwAAAAAMgAyAIEAAAD/YQAREUQAAAAC/4SPqcvtj4KcFFpIsw63Gy2E4qh5DzWmqlCZCrrG5OQek4yntHvnfrjrSH5EkUQY0CWLwKWRg3E2h0XY80SdZn+ZGZSx3RDFV7B0I8WhZ4seC51ewZ1B23muxpcj9HncC7f3cecX4xf2BZB1uAWo98b3xKjCuPiFOKmU2TQoeWhYWWb5qeX5eKTYRwryRgqZarqmNXoK1TjWxcQJq9vqxoR6iyvMZfvXixx8jKyLygucCx0JzVqVSCwja52ATRmI+7Lsre3jbCceW52XaFe+mc0+De8K6vCr+a6JNZ/PFiVX6d4uC7cCCjRHsGC/OkiOkfNSY1C3dfF4CKQYsU00gA0tMpqp5LHhhpAkQxYAACH5BAkWAAAALAEAAQAwADAAgQAAAP9hABERRAAAAAL/hI+Jwe0Ko0yu2jBztKL7b2mi85Wm8Ihbc7Zlqh6sS4NMbMw06TYxU/NcAq2bBhjsDIknowSZRC2ZL8yKmpxChU4KNqv9SiHbaFintMrK4HNVDWC33bYFE707l53QSlAvNhZH5VdD12SFtNQzZYjR11jEMcelxRh4SXjIE2WjqJfG2Sn1STc5SnoHmir3N7PKiulYGlkpO6u5uIOaaluYeWtyQyv6duqYo1osXMuYXDk3hPyM0glbZccLKNaF53pN6oUKyEwWbGxZZ37uK/32xB7anJbRyqyLfcSOnz9iL+8tFI5B8fLA+RFwzkAv/+4dXJhsmScfEOHpqYhwCMQCACH5BAkWAAAALAEAAQAwADAAgQAAAP9hABERRAAAAAL/hI+Jwe0Ko0yu2jBztKL7b2mi85Wm8Ihbc7Zlqh5sy9FMbMzgVe+YyjDxhgHhLxM0Ens7ZNG21Bkl0le06lu5Oten66ZIbrtb7jEnHi/L5nO6TGR7wGh5+2JHHd9sXt5c9+cn+MPXV/EHaJjIeNf4aLV4KAmHJceUR8KIaaepF3WXdOXj1VXEQTanY+r4uaYqZuoFC0pL+no7ZAUQm5o7CMhb6ksbpxoYChyp24TsqvyLeCwzi3tiPI1WDX2t3ECxzdmNSbcQbgnlqbdyPltZ9a3lk4hVDvHm3jmlQfloP4Fu0z8n+QSeiaGO0ECEAccdxGEu4bKFECNeqQiRCMYCACH5BAkWAAAALAEAAQAwADAAgQAAAP9hABERRAAAAAL/hI+Jwe0Ko0yu2jBztKL7b2mi85Wm8Ihbc7Zlqh7sy7koExuzdzF214j5QL3h7zYKEIvGI27SvDGVRx5mRZVOs9UgpLndVZEKcDjavcrM5/FywbVu3US4az7OPgFoWjHN9dRn8mdTQzZIeHG3CISR2ALp2DgZRxfJtGSZJxYmt+lUUZlZeTlK1VZqWpOqZao11EryOnt66PrKWKgKCKopasXn+wmMeSg4PBXaeTXoCVinE3c2TBi89qtMqyasR73NLZy9S7dnZ9uzGr4WiOfm9TWt/b5OIU8emqRIma8iBvvPWI5uxqpJGShNkq56QgIagocQTq0TISJKoMbQYrweAxELAAA7",alt:"nuclear radiation symbol"});if(t<c.bomb&&t>c.none)return Object(i.jsx)("span",{className:c[t].toString(),children:t});break;case r.flagged:return Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAYxJREFUWIXVmd0VgyAMhYOnC9SZGKArdDJXcIDO1BXsUywCkfyJep88ReLnDWAJARRa3rDg9ThHVp/v67NehwmC9JmiDgjIhaOE0BJg1o1egLkkwM0bljcs3oC5vq9PE3a3sQckqgVLNuSQmCYv8Fq8PdjqjxQkymsy1eJRsIMU8gilzxjnuFn+UBtyCaTWVW7M3NnV0TOczLXnbJH6vAMnqAZEes8AoF+GJLCaF0tdLRw9I+UchsG6qB81TFDo6sbRK7iJylmqk8kalNsm0dDrW27ROMe/o9ZxpGlrKWV6qKNUQKhv+DhH8xBwGaMA9Yx4Tk4TqCSt1rmwpr7HpLI8wy31R8sNtOaWZ5bC8xmLP6lX1G1SH7x2mtRS5BX7Pt96lygdFABshQauY5b4YYJwL0cBdK5Kx58mPm6Z1Y4etQultIKGCcLVtiJpAaKo8XCGgPWFOPHz+lOR+rOdpYpk7LJjGshDVGyq7EhOpt7Oqgu5KG9npU6iXA4bWtCtfi6HDakuf3yT64wDsR/EDf174470vAAAAABJRU5ErkJggg==",alt:"nuclear radiation flag"});case r.undiscovered:}}()})};n(16);var g=function(e){var a=e.displayNumber,n=a.toString().padStart(3,"0");return a<0&&(n="-"+(-1*a).toString().padStart(2,"0")),Object(i.jsx)("div",{className:"NumberDisplay",children:n})},p=function(e){return[[e[0]-1,e[1]-1],[e[0]-1,e[1]],[e[0]-1,e[1]+1],[e[0],e[1]-1],[e[0],e[1]+1],[e[0]+1,e[1]-1],[e[0]+1,e[1]],[e[0]+1,e[1]+1]].filter((function(e){return e[0]>=0&&e[0]<9&&e[1]>=0&&e[1]<9}))},v=function(e){for(var a=new Array(9).fill(null).map((function(e){return new Array(9).fill(null).map((function(e,a){return{value:c.none,state:r.undiscovered}}))})),n=10;n>0;){var t=Math.floor(9*Math.random()),s=Math.floor(9*Math.random()),o=!1;e&&(o=e&&([t,s]===e||Math.abs(t-e[0])<=1||Math.abs(s-e[1])<=1)),a[t][s].value===c.bomb||o||(a[t][s].value=c.bomb,n--)}return a=a.map((function(e,n){return e.map((function(e,t){var r=p([n,t]).map((function(e){return a[e[0]][e[1]].value===c.bomb?1:0}));return e.value===c.bomb?e:{value:r.reduce((function(e,a){return e+a}),0),state:e.state}}))})),e?j(a,e):a},j=function(e,a){var n=new Array,t=new Set;for(n.push(a),t.add(9*a[0]+a[1]);n.length>0;){var s=n.pop();console.log(s),console.log(n.length);void 0!==s&&p(s).forEach((function(a){t.has(9*a[0]+a[1])||e[a[0]][a[1]].value!==c.bomb&&(t.add(9*a[0]+a[1]),e[a[0]][a[1]].value===c.none&&n.push(a))}))}return e.map((function(e,a){return e.map((function(e,n){return t.has(9*a+n)?Object(f.a)(Object(f.a)({},e),{},{state:r.discovered}):e}))}))};n(17);function C(e,a){var n=a.type===o.DISCOVER?r.discovered:a.type===o.FLAG?r.flagged:(a.type,o.UNFLAG,r.undiscovered),s={cells:e.cells,gamePhase:e.gamePhase};switch(a.type){case o.STATUS_CLICK:return{cells:e.gamePhase===t.playing?e.cells:v(),gamePhase:e.gamePhase===t.won||e.gamePhase===t.lost?t.apriori:t.playing};case o.INIT:return{cells:v(),gamePhase:t.apriori};case o.FIRST_CLICK:s.cells=v(a.i2D);break;case o.BFS_REVEAL:s.cells=j(e.cells,a.i2D);break;case o.DISCOVER:case o.FLAG:case o.UNFLAG:s.cells=e.cells.map((function(e,t){return e.map((function(e,c){return a.i2D[0]===t&&a.i2D[1]===c?Object(f.a)(Object(f.a)({},e),{},{state:n}):e}))}))}return s.gamePhase=function(e){var a=!0,n=!1,s=!1;return e.forEach((function(e){e.forEach((function(e){e.value!==c.bomb&&e.state!==r.discovered?a=!1:e.state===r.discovered&&(n=!0,e.value===c.bomb&&(s=!0))}))})),s?t.lost:a?t.won:n?t.playing:t.apriori}(s.cells),s}var O=function(e){var a=e.updateGameRecord,n=Object(u.useReducer)(C,{cells:v(),gamePhase:t.apriori}),s=Object(b.a)(n,2),l=s[0],A=s[1],d=Object(u.useState)(0),m=Object(b.a)(d,2),f=m[0],p=m[1];Object(u.useEffect)((function(){if(l.gamePhase===t.playing){var e=setInterval((function(){p(Math.min(f+1,999))}),1e3);return function(){return clearInterval(e)}}l.gamePhase===t.apriori&&p(0)}),[l.gamePhase,f]),Object(u.useEffect)((function(){l.gamePhase!==t.won&&l.gamePhase!==t.lost||(a({status:l.gamePhase,time:f}),l.gamePhase===t.lost&&l.cells.map((function(e,a){e.forEach((function(e,n){e.value==c.bomb&&A({type:o.DISCOVER,i2D:[a,n]})}))})))}),[l.gamePhase]);var j=function(e,a){return function(){if(l.gamePhase!==t.playing)A({type:o.FIRST_CLICK,i2D:[e,a]});else{var n=l.cells[e][a];switch(n.state){case r.flagged:case r.discovered:return;case r.undiscovered:return void(n.value===c.none?A({type:o.BFS_REVEAL,i2D:[e,a]}):A({type:o.DISCOVER,i2D:[e,a]}))}}}},O=function(e,a){return function(n){if(n.preventDefault(),l.gamePhase===t.playing)switch(l.cells[e][a].state){case r.discovered:return;case r.undiscovered:A({type:o.FLAG,i2D:[e,a]});break;case r.flagged:A({type:o.UNFLAG,i2D:[e,a]})}}};return Object(i.jsxs)("div",{className:"Game",children:[Object(i.jsxs)("header",{className:"Header",children:[Object(i.jsx)(g,{displayNumber:10-l.cells.reduce((function(e,a){return e+a.reduce((function(e,a){return e+(a.state===r.flagged?1:0)}),0)}),0)}),Object(i.jsx)("button",{className:"GamePhaseButton ".concat(t[l.gamePhase]),onClick:function(){A({type:o.STATUS_CLICK})}}),Object(i.jsx)(g,{displayNumber:f})]}),Object(i.jsx)("section",{className:"Body",children:l.cells.map((function(e,a){return e.map((function(e,n){return Object(i.jsx)(h,{value:e.value,state:e.state,row:a,col:n,onClickHandler:j,onContextMenuHandler:O},"".concat(a,"-").concat(n))}))}))}),Object(i.jsxs)("div",{className:"MessageContainer",children:[Object(i.jsx)("span",{}),Object(i.jsx)("p",{className:"Message",children:function(){switch(l.gamePhase){case t.apriori:return"click any cell to begin";case t.playing:return"be careful";case t.lost:return"a terrible mistake...";case t.won:return"disaster averted, for now"}}()}),Object(i.jsx)("span",{})]})]})};n(18);var y=function(){var e=Object(u.useState)(!1),a=Object(b.a)(e,2),n=(a[0],a[1],Object(u.useState)(new Array)),t=Object(b.a)(n,2),c=(t[0],t[1]);return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(O,{updateGameRecord:function(e){c((function(a){return[e].concat(Object(m.a)(a))}))}})})};d.a.render(Object(i.jsx)(l.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.67a6b109.chunk.js.map