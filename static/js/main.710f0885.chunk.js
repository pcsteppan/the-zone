(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a,r,c,o,s,i=t(0),u=t(1),l=t.n(u),d=t(5),A=t.n(d),f=(t(11),t(4)),g=t(2);!function(e){e[e.apriori=0]="apriori",e[e.playing=1]="playing",e[e.won=2]="won",e[e.lost=3]="lost"}(a||(a={})),function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(r||(r={})),function(e){e[e.undiscovered=0]="undiscovered",e[e.discovered=1]="discovered",e[e.flagged=2]="flagged"}(c||(c={})),function(e){e.glad="\ud83d\ude01",e.hesitant="\ud83d\ude36",e.lost="\ud83d\udc80",e.won="\ud83d\ude0e"}(o||(o={})),function(e){e[e.INIT=0]="INIT",e[e.FIRST_CLICK=1]="FIRST_CLICK",e[e.BFS_REVEAL=2]="BFS_REVEAL",e[e.DISCOVER=3]="DISCOVER",e[e.FLAG=4]="FLAG",e[e.UNFLAG=5]="UNFLAG",e[e.STATUS_CLICK=6]="STATUS_CLICK"}(s||(s={}));t(12);var b=function(e){var n=e.row,t=e.col,a=e.value,o=e.state,s=e.onClickHandler,u=e.onContextMenuHandler;return Object(i.jsx)("div",{className:"Button ".concat(a===r.bomb?"bomb":""," ").concat(o===c.discovered?"discovered":o===c.flagged?"flagged":"undiscovered"),onClick:s(n,t),onContextMenu:u(n,t),children:function(){switch(o){case c.discovered:if(a===r.bomb)return Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAXVJREFUWIXtmUsSwiAMhkPHc+lKb6GH01voyl5MV+lgmgB50MeM/7IF+vVPSAskMOh9PX8s/VCnxytp+6g6eAGpNMBNDaMBqVqAqw16Q6JqsMWbS0GiSrDiDQp5vD8BAGC8XUKgpPEkWPaiBInywtbG42AHeqEG2UP0GVzKpVKDEqTVVc2YubOTo2s4SVVydhZ6roO1TeS4A4C9DGlgrRFCtpmja4S8hWHwFvVeaZLrfT1/fhzdgpsoysJOJu+grfc0CgFdQhOo581Lxd/zuc2ZDuZRGBDpGz7eLu4UCAs9BxI5OV2gmrB6/7im0Ef9Z5bkecb+Zr1XnFuRUUpLr4us2k3o3XUUJZWiqPD/v/XRSgC+jYZWxzwpcHq80r4cBbC5qs0/i6u4ZDY72msVKmkCtWyu9lbONINrSQFvyWlJAWrcLPRbcJZjaN52REUVcMlVyShxMq3hrGkjFxXtrNZJVMhhQw26NnlCDhtybf74hmqNA7EvghDCqoNcco4AAAAASUVORK5CYII=",alt:"nuclear radiation symbol"});if(a<r.bomb&&a>r.none)return Object(i.jsx)("span",{className:r[a].toString(),children:a});break;case c.flagged:return Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAZZJREFUWIXVmc21hCAMhcEzBdiDhbiaMqYNi7ANy3A1hdiDHcxbxYdIJH+g3tWcQeLnTcBj8E6g7+f9g99D25HmjOuy/e6n2XPvyZoAgFQ4TADNASZdaAUYiwOcveD7ef+sAWON65KFPR2sAQnKwaIDMSSkyQo8Fe8MNvknBgmyWkypeBhsw4UsofAeQ9vttj/QjpwDKXWVGjN2dnP0CidjnTl7SH08gRJUAsK9pnFOvg1xYCUPFrp6cPSKlFMYGu2mXqpMQODqztE7uAmKWZKLSRuUOsZRU+tdrtHQdv+OautIMpZTyPQSR0mAYO/woe3UJWBSo86lM2K5OFWgnLRq18KW+hqLSnMPs9SXlhloyi3LLKlXfaiS5fOY1L/GdTFxAtuKrGI/511vEqWCvHO6RgPVMU38fpr9sxx1TuYqt/4k8eGTWexoqa9QTBtoP83+bp8iYQPi0OOhlID2gSjx4/7TIfVXO4s1ychtxzCQhbDYWNsRXUy1nRU3ckHWznKdBJkcNuSgc/NMDhtC3f74JtYVB2J/63MXi1HcSCwAAAAASUVORK5CYII=",alt:"nuclear radiation flag"});case c.undiscovered:}}()})};t(13);var h=function(e){var n=e.displayNumber,t=n.toString().padStart(3,"0");return n<0&&(t="-"+(-1*n).toString().padStart(2,"0")),Object(i.jsx)("div",{className:"NumberDisplay",children:t})},m=function(e){return[[e[0]-1,e[1]-1],[e[0]-1,e[1]],[e[0]-1,e[1]+1],[e[0],e[1]-1],[e[0],e[1]+1],[e[0]+1,e[1]-1],[e[0]+1,e[1]],[e[0]+1,e[1]+1]].filter((function(e){return e[0]>=0&&e[0]<9&&e[1]>=0&&e[1]<9}))},p=function(e){for(var n=new Array(9).fill(null).map((function(e){return new Array(9).fill(null).map((function(e,n){return{value:r.none,state:c.undiscovered}}))})),t=10;t>0;){var a=Math.floor(9*Math.random()),o=Math.floor(9*Math.random()),s=!1;e&&(s=e&&([a,o]===e||Math.abs(a-e[0])<=1||Math.abs(o-e[1])<=1)),n[a][o].value===r.bomb||s||(n[a][o].value=r.bomb,t--)}return n=n.map((function(e,t){return e.map((function(e,a){var c=m([t,a]).map((function(e){return n[e[0]][e[1]].value===r.bomb?1:0}));return e.value===r.bomb?e:{value:c.reduce((function(e,n){return e+n}),0),state:e.state}}))})),e?v(n,e):n},v=function(e,n){var t=new Array,a=new Set;for(t.push(n),a.add(9*n[0]+n[1]);t.length>0;){var o=t.pop();console.log(o),console.log(t.length);void 0!==o&&m(o).forEach((function(n){a.has(9*n[0]+n[1])||e[n[0]][n[1]].value!==r.bomb&&(a.add(9*n[0]+n[1]),e[n[0]][n[1]].value===r.none&&t.push(n))}))}return e.map((function(e,n){return e.map((function(e,t){return a.has(9*n+t)?Object(g.a)(Object(g.a)({},e),{},{state:c.discovered}):e}))}))};t(14);function S(e,n){var t=n.type===s.DISCOVER?c.discovered:n.type===s.FLAG?c.flagged:(n.type,s.UNFLAG,c.undiscovered),o={cells:e.cells,gamePhase:e.gamePhase};switch(n.type){case s.STATUS_CLICK:return{cells:e.gamePhase===a.playing?e.cells:p(),gamePhase:e.gamePhase===a.won||e.gamePhase===a.lost?a.apriori:a.playing};case s.INIT:return{cells:p(),gamePhase:a.apriori};case s.FIRST_CLICK:o.cells=p(n.i2D);break;case s.BFS_REVEAL:o.cells=v(e.cells,n.i2D);break;case s.DISCOVER:case s.FLAG:case s.UNFLAG:o.cells=e.cells.map((function(e,a){return e.map((function(e,r){return n.i2D[0]===a&&n.i2D[1]===r?Object(g.a)(Object(g.a)({},e),{},{state:t}):e}))}))}return o.gamePhase=function(e){var n=!0,t=!1,o=!1;return e.forEach((function(e){e.forEach((function(e){e.value!==r.bomb&&e.state!==c.discovered?n=!1:e.state===c.discovered&&(t=!0,e.value===r.bomb&&(o=!0))}))})),o?a.lost:n?a.won:t?a.playing:a.apriori}(o.cells),o}var O=function(){var e=Object(u.useReducer)(S,{cells:p(),gamePhase:a.apriori}),n=Object(f.a)(e,2),t=n[0],o=n[1],l=Object(u.useState)(0),d=Object(f.a)(l,2),A=d[0],g=d[1];Object(u.useEffect)((function(){if(t.gamePhase===a.playing){var e=setInterval((function(){g(Math.min(A+1,999))}),1e3);return function(){return clearInterval(e)}}t.gamePhase===a.apriori&&g(0)}),[t.gamePhase,A]);var m=function(e,n){return function(){if(t.gamePhase!==a.playing)o({type:s.FIRST_CLICK,i2D:[e,n]});else{var i=t.cells[e][n];switch(i.state){case c.flagged:case c.discovered:return;case c.undiscovered:return void(i.value===r.none?o({type:s.BFS_REVEAL,i2D:[e,n]}):o({type:s.DISCOVER,i2D:[e,n]}))}}}},v=function(e,n){return function(r){if(r.preventDefault(),t.gamePhase===a.playing)switch(t.cells[e][n].state){case c.discovered:return;case c.undiscovered:o({type:s.FLAG,i2D:[e,n]});break;case c.flagged:o({type:s.UNFLAG,i2D:[e,n]})}}};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("header",{className:"Header",children:[Object(i.jsx)(h,{displayNumber:10-t.cells.reduce((function(e,n){return e+n.reduce((function(e,n){return e+(n.state===c.flagged?1:0)}),0)}),0)}),Object(i.jsx)("button",{className:"GamePhaseButton ".concat(a[t.gamePhase]),onClick:function(){o({type:s.STATUS_CLICK})}}),Object(i.jsx)(h,{displayNumber:A})]}),Object(i.jsx)("section",{className:"Body",children:t.cells.map((function(e,n){return e.map((function(e,t){return Object(i.jsx)(b,{value:e.value,state:e.state,row:n,col:t,onClickHandler:m,onContextMenuHandler:v},"".concat(n,"-").concat(t))}))}))})]})};A.a.render(Object(i.jsx)(l.a.StrictMode,{children:Object(i.jsx)(O,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.710f0885.chunk.js.map